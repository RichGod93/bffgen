"""
GraphQL Schema for {{.ProjectName}} BFF
Generated by bffgen - Backend-for-Frontend Generator
"""

scalar DateTime
scalar JSON

"""
Health check response
"""
type HealthCheck {
  status: String!
  timestamp: DateTime!
  version: String
}

"""
User type representing an authenticated user
"""
type User {
  id: ID!
  email: String!
  name: String
  avatar: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
Example query for aggregating data from multiple microservices
"""
type UserDashboard {
  user: User!
  recentActivity: [Activity!]!
  notifications: [Notification!]!
  stats: UserStats!
}

type Activity {
  id: ID!
  type: String!
  description: String!
  timestamp: DateTime!
  metadata: JSON
}

type Notification {
  id: ID!
  title: String!
  message: String!
  read: Boolean!
  createdAt: DateTime!
}

type UserStats {
  totalOrders: Int!
  totalSpent: Float!
  loyaltyPoints: Int!
}

"""
Query root type
"""
type Query {
  """
  Health check endpoint
  """
  health: HealthCheck!

  """
  Get current authenticated user
  """
  me: User

  """
  Get user dashboard with aggregated data from multiple services
  """
  userDashboard(userId: ID!): UserDashboard

  """
  Example: Get data from a specific microservice
  """
  {{range .BackendServices}}
  {{.Name}}: {{.Name | ToPascalCase}}Data
  {{end}}
}

{{range .BackendServices}}
"""
Data from {{.Name}} service
"""
type {{.Name | ToPascalCase}}Data {
  id: ID!
  # Add your fields here based on the {{.Name}} service API
  data: JSON
}
{{end}}

"""
Mutation root type
"""
type Mutation {
  """
  Example mutation
  """
  updateUser(input: UpdateUserInput!): User
}

input UpdateUserInput {
  name: String
  email: String
  avatar: String
}

"""
Subscription root type for real-time updates
"""
type Subscription {
  """
  Subscribe to user notifications
  """
  notificationAdded(userId: ID!): Notification
}
