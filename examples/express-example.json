{
  "$schema": "https://bffgen.dev/schema.json",
  "project": {
    "name": "express-bff-example",
    "version": "1.0.0",
    "runtime": "nodejs-express",
    "framework": "express"
  },
  "server": {
    "port": 8080,
    "host": "0.0.0.0",
    "cors": {
      "enabled": true,
      "origins": ["http://localhost:3000", "http://localhost:5173"],
      "credentials": true,
      "methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"],
      "allowedHeaders": [
        "Accept",
        "Authorization",
        "Content-Type",
        "X-CSRF-Token",
        "X-Requested-With"
      ]
    },
    "rateLimit": {
      "enabled": true,
      "windowMs": 900000,
      "max": 100
    },
    "security": {
      "helmet": true,
      "csp": true,
      "hsts": true
    }
  },
  "backends": [
    {
      "name": "auth",
      "baseUrl": "http://localhost:4000/api",
      "timeout": 30000,
      "retries": 3,
      "healthCheck": {
        "enabled": true,
        "path": "/health",
        "interval": 60000
      },
      "endpoints": [
        {
          "name": "login",
          "path": "/auth/login",
          "method": "POST",
          "exposeAs": "/api/auth/login",
          "requiresAuth": false
        },
        {
          "name": "register",
          "path": "/auth/register",
          "method": "POST",
          "exposeAs": "/api/auth/register",
          "requiresAuth": false
        },
        {
          "name": "logout",
          "path": "/auth/logout",
          "method": "POST",
          "exposeAs": "/api/auth/logout",
          "requiresAuth": true
        },
        {
          "name": "profile",
          "path": "/auth/profile",
          "method": "GET",
          "exposeAs": "/api/auth/profile",
          "requiresAuth": true
        },
        {
          "name": "refresh",
          "path": "/auth/refresh",
          "method": "POST",
          "exposeAs": "/api/auth/refresh",
          "requiresAuth": false
        }
      ]
    },
    {
      "name": "users",
      "baseUrl": "http://localhost:4001/api",
      "timeout": 30000,
      "retries": 3,
      "healthCheck": {
        "enabled": true,
        "path": "/health",
        "interval": 60000
      },
      "endpoints": [
        {
          "name": "getUsers",
          "path": "/users",
          "method": "GET",
          "exposeAs": "/api/users",
          "requiresAuth": true
        },
        {
          "name": "getUser",
          "path": "/users/:id",
          "method": "GET",
          "exposeAs": "/api/users/:id",
          "requiresAuth": true
        },
        {
          "name": "createUser",
          "path": "/users",
          "method": "POST",
          "exposeAs": "/api/users",
          "requiresAuth": true
        },
        {
          "name": "updateUser",
          "path": "/users/:id",
          "method": "PUT",
          "exposeAs": "/api/users/:id",
          "requiresAuth": true
        },
        {
          "name": "deleteUser",
          "path": "/users/:id",
          "method": "DELETE",
          "exposeAs": "/api/users/:id",
          "requiresAuth": true
        }
      ]
    },
    {
      "name": "products",
      "baseUrl": "http://localhost:4002/api",
      "timeout": 30000,
      "retries": 3,
      "healthCheck": {
        "enabled": true,
        "path": "/health",
        "interval": 60000
      },
      "endpoints": [
        {
          "name": "getProducts",
          "path": "/products",
          "method": "GET",
          "exposeAs": "/api/products",
          "requiresAuth": false
        },
        {
          "name": "getProduct",
          "path": "/products/:id",
          "method": "GET",
          "exposeAs": "/api/products/:id",
          "requiresAuth": false
        },
        {
          "name": "createProduct",
          "path": "/products",
          "method": "POST",
          "exposeAs": "/api/products",
          "requiresAuth": true
        },
        {
          "name": "updateProduct",
          "path": "/products/:id",
          "method": "PUT",
          "exposeAs": "/api/products/:id",
          "requiresAuth": true
        }
      ]
    }
  ],
  "features": {
    "authentication": {
      "enabled": true,
      "type": "jwt",
      "endpoints": {
        "login": "/api/auth/login",
        "logout": "/api/auth/logout",
        "refresh": "/api/auth/refresh",
        "profile": "/api/auth/profile"
      }
    },
    "logging": {
      "enabled": true,
      "level": "info",
      "format": "json"
    },
    "monitoring": {
      "health": "/health",
      "ready": "/ready",
      "metrics": "/metrics"
    },
    "documentation": {
      "swagger": {
        "enabled": true,
        "path": "/api-docs"
      }
    }
  },
  "development": {
    "hotReload": true,
    "debugMode": true,
    "mockBackends": false
  },
  "production": {
    "compression": true,
    "caching": true,
    "clustering": false
  }
}
